(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aa7c1"],{"10e1":function(e,t,o){"use strict";o.r(t);o("b0c0");var n=function(){var e=this,t=this,o=t._self._c;return o("Card",{attrs:{shadow:""}},[o("Button",{staticClass:"ivu-mr-8",attrs:{type:"primary",icon:"md-add",ghost:""},on:{click:t.addRole}},[t._v("添加角色")]),o("Button",{attrs:{type:"error",icon:"md-trash",ghost:""},on:{click:t.delRoles}},[t._v("批量删除")]),o("div",{staticClass:"ivu-inline-block ivu-fr"}),o("Table",{staticClass:"ivu-mt",attrs:{columns:t.columns,data:t.data,loading:t.loading},on:{"on-selection-change":function(t){return e.selectedRows=t}},scopedSlots:t._u([{key:"defaultRole",fn:function(e){var n=e.row;return[o("Tag",{attrs:{color:"1"===n.defaultRole?"green":"red"}},[t._v(t._s("1"===n.defaultRole?"是":"否"))])]}},{key:"action",fn:function(e){var n=e.row;return[o("a",{on:{click:function(e){return t.editRole(n)}}},[t._v("菜单权限")]),o("Divider",{attrs:{type:"vertical"}}),o("a",{on:{click:function(e){return t.editRole(n)}}},[t._v("编辑")]),o("Divider",{attrs:{type:"vertical"}}),o("a",{directives:[{name:"color",rawName:"v-color",value:"red",expression:"'red'"}],on:{click:function(e){return t.removeRole(n)}}},[t._v("删除")])]}}])}),o("div",{staticClass:"ivu-mt ivu-text-center"},[o("Page",{attrs:{"show-sizer":"","show-elevator":"",total:t.total},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1),o("FormContainer",{attrs:{width:520,value:t.visible,title:t.title},on:{"on-visible-change":function(e){return t.visible=e}}},[o("Form",{ref:"form",attrs:{model:t.form,rules:t.rule,"label-colon":!0,"label-position":"top"}},[o("FormItem",{attrs:{label:"角色名称"}},[o("Input",{attrs:{placeholder:"请输入角色名称，必填"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),o("FormItem",{attrs:{label:"说明"}},[o("Input",{attrs:{placeholder:"请输入说明"},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1),o("FormItem",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v(" 是否默认角色 "),o("Tooltip",{attrs:{content:"开启后，新注册用户默认拥有该角色",placement:"top"}},[o("Icon",{attrs:{type:"md-help-circle"}})],1)]},proxy:!0}])},[o("i-switch",{attrs:{"true-value":"1","false-value":"0"},scopedSlots:t._u([{key:"open",fn:function(){return[o("Icon",{attrs:{type:"md-checkmark"}})]},proxy:!0},{key:"close",fn:function(){return[o("Icon",{attrs:{type:"md-close"}})]},proxy:!0}]),model:{value:t.form.defaultRole,callback:function(e){t.$set(t.form,"defaultRole",e)},expression:"form.defaultRole"}})],1)],1)],1)],1)},i=[],a=(o("a15b"),o("d81d"),{name:"Role",data:function(){return{query:{pageNo:1,pageSize:10},loading:!1,columns:[{type:"selection",align:"center",width:60},{title:"角色名称",key:"name",sortable:!0,minWidth:140},{title:"说明",key:"desc",minWidth:120},{title:"创建时间",key:"createTime",sortable:!0,minWidth:180},{title:"更新时间",key:"updateTime",sortable:!0,minWidth:180},{title:"是否默认角色",key:"defaultRole",slot:"defaultRole",minWidth:140},{title:"操作",slot:"action",align:"center",fixed:"right",minWidth:200}],data:[],total:0,form:{},rule:{},title:"",visible:!1,selectedRows:[]}},created:function(){this.getRoleList()},methods:{getRoleList:function(){var e=this;setTimeout((function(){e.data=[{id:2000000001,name:"ROLE_USER",desc:"普通用户",createTime:"2020-01-01 12:01:25",updateTime:"2020-01-02 13:10:33",defaultRole:"1"},{id:2000000002,name:"ROLE_UNIT",desc:"团队用户",createTime:"2020-01-02 08:12:43",updateTime:"2020-01-04 22:12:28",defaultRole:"0"},{id:2000000003,name:"ROLE_ADMIN",desc:"管理员用户",createTime:"2020-01-03 12:44:19",updateTime:"2020-01-06 14:02:22",defaultRole:"0"}]}),500)},addRole:function(){this.form={defaultRole:"0"},this.title="添加角色",this.visible=!0},delRoles:function(){var e=this;this.selectedRows.length?this.$Modal.confirm({title:"删除确认",content:"您确认要删除角色<br/><strong>".concat(this.selectedRows.map((function(e){return e.name})).join(","),"</strong>？"),loading:!0,onOk:function(){setTimeout((function(){e.$Modal.remove(),e.$Message.error("抱歉，您没有该权限")}),800)},onCancel:function(){e.$Message.info("点击了取消")}}):this.$Message.error("您没有选择角色")},editRole:function(e){this.form=e,this.title="编辑角色",this.visible=!0},removeRole:function(e){var t=this;this.$Modal.confirm({title:"删除确认",content:"您确认要删除角色<strong>".concat(e.name,"</strong>？"),loading:!0,onOk:function(){setTimeout((function(){t.$Modal.remove(),t.$Message.error("抱歉，您没有该权限")}),800)},onCancel:function(){t.$Message.info("点击了取消")}})},changePage:function(e){this.query.pageNo=e,this.getRoleList()},changePageSize:function(e){this.query.pageSize=e,this.getRoleList()}}}),l=a,r=o("2877"),s=Object(r["a"])(l,n,i,!1,null,"78ba5863",null);t["default"]=s.exports}}]);
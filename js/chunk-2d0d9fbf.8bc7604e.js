(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d9fbf"],{"6a53":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=this,a=e._self._c;return a("Card",{attrs:{shadow:""}},[a("Form",{attrs:{"label-width":100,"label-colon":!0}},[a("Row",{attrs:{gutter:24}},[a("Col",{attrs:{xl:8,lg:8,md:12,sm:24,xs:24}},[a("FormItem",{attrs:{label:"用户名"}},[a("Input",{attrs:{placeholder:"请输入用户名"}})],1)],1),a("Col",{attrs:{xl:8,lg:8,md:12,sm:24,xs:24}},[a("FormItem",{attrs:{label:"手机号"}},[a("Input",{attrs:{placeholder:"请输入手机号"}})],1)],1),e.advanced?[a("Col",{attrs:{xl:8,lg:8,md:12,sm:24,xs:24}},[a("FormItem",{attrs:{label:"邮箱"}},[a("Input",{attrs:{placeholder:"请输入邮箱"}})],1)],1),a("Col",{attrs:{xl:8,lg:8,md:12,sm:24,xs:24}},[a("FormItem",{attrs:{label:"性别"}},[a("Select",{attrs:{placeholder:"请选择性别",clearable:""}},[a("Option",{attrs:{value:"1"}},[e._v("男")]),a("Option",{attrs:{value:"2"}},[e._v("女")])],1)],1)],1),a("Col",{attrs:{xl:8,lg:8,md:12,sm:24,xs:24}},[a("FormItem",{attrs:{label:"登录账号"}},[a("Input",{attrs:{placeholder:"请输入登录账号"}})],1)],1),a("Col",{attrs:{xl:8,lg:8,md:12,sm:24,xs:24}},[a("FormItem",{attrs:{label:"用户ID"}},[a("Input",{attrs:{placeholder:"请输入用户ID"}})],1)],1),a("Col",{attrs:{xl:8,lg:8,md:12,sm:24,xs:24}},[a("FormItem",{attrs:{label:"状态",clearable:""}},[a("Select",{attrs:{placeholder:"请选择状态"}},[a("Option",{attrs:{value:"1"}},[e._v("正常")]),a("Option",{attrs:{value:"2"}},[e._v("冻结")]),a("Option",{attrs:{value:"3"}},[e._v("关闭")])],1)],1)],1),a("Col",{attrs:{xl:8,lg:8,md:12,sm:24,xs:24}},[a("FormItem",{attrs:{label:"创建时间"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{placeholder:"请选创建时间"}})],1)],1)]:e._e(),a("Col",{attrs:{xl:8,lg:8,md:12,sm:24,xs:24}},[a("FormItem",{attrs:{"label-width":100}},[a("Space",[a("Button",{attrs:{icon:"md-search",type:"primary",loading:e.loading},on:{click:e.getUserList}},[e._v("查询")]),a("Button",{attrs:{icon:"md-refresh"},on:{click:e.getUserList}},[e._v("重置")]),a("a",{on:{click:e.toggleAdvanced}},[e._v(" "+e._s(e.advanced?"收起":"展开")+" "),a("Icon",{attrs:{type:e.advanced?"ios-arrow-up":"ios-arrow-down"}})],1)],1)],1)],1)],2)],1),a("div",[a("Space",[a("Button",{attrs:{type:"primary",icon:"md-add",ghost:""},on:{click:e.addUser}},[e._v("添加用户")]),a("Button",{attrs:{type:"error",icon:"md-trash",ghost:""},on:{click:e.delUsers}},[e._v("批量删除")])],1),a("div",{staticClass:"ivu-inline-block ivu-fr"}),a("Table",{staticClass:"ivu-mt",attrs:{columns:e.columns,data:e.data,loading:e.loading},on:{"on-selection-change":function(e){return t.selectedRows=e},"on-cell-click":e.cellClick},scopedSlots:e._u([{key:"username",fn:function(t){var r=t.row;return[a("Avatar",{attrs:{shape:"square",src:r.avatar,size:"small"}}),e._v(" "+e._s(r.username)+" ")]}},{key:"sex",fn:function(t){var r=t.row;return[a("Tag",{attrs:{color:"1"===r.sex?"blue":"red"}},[e._v(e._s("1"===r.sex?"男":"女"))])]}},{key:"status",fn:function(t){var e=t.row;return[a("Badge",{attrs:{status:"1"===e.status?"success":"error",text:"1"===e.status?"正常":"冻结"}})]}},{key:"action",fn:function(t){var r=t.row;return[a("a",{on:{click:function(t){return e.editUser(r)}}},[e._v("编辑")]),a("Divider",{attrs:{type:"vertical"}}),a("a",{directives:[{name:"color",rawName:"v-color",value:"red",expression:"'red'"}],on:{click:function(t){return e.removeUser(r)}}},[e._v("删除")])]}}])}),a("div",{staticClass:"ivu-mt ivu-text-center"},[a("Page",{attrs:{"show-sizer":"","show-elevator":"",total:e.total},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)],1),a("FormContainer",{attrs:{width:560,value:e.visible,title:e.title},on:{"on-visible-change":function(t){return e.visible=t}}},[a("Form",{ref:"form",attrs:{model:e.form,rules:e.rule,"label-colon":!0,"label-position":"top"}},[a("Row",{attrs:{gutter:32}},[e.form&&e.form.id?[a("Col",{staticClass:"ivu-text-center",attrs:{span:10}},[a("Avatar",{attrs:{src:e.form.avatar,size:64,shape:"square"}}),e.readOnly?e._e():a("Upload",{staticClass:"ivu-mt-8",attrs:{action:"//jsonplaceholder.typicode.com/posts/"}},[a("Button",{attrs:{type:"text"}},[e._v("修改 "),a("Icon",{attrs:{type:"ios-create-outline"}})],1)],1)],1),a("Col",{attrs:{span:14}},[a("div",[e._v("用户ID："+e._s(e.form.id))]),a("div",{staticClass:"ivu-mt-8"},[e._v("登录账号："+e._s(e.form.account))]),a("div",{staticClass:"ivu-mt-8"},[e._v("创建时间："+e._s(e.form.createTime))])]),a("Divider")]:e._e(),a("Col",{attrs:{span:12}},[a("FormItem",{attrs:{label:"用户名"}},[a("Input",{attrs:{readonly:e.readOnly,placeholder:"请输入用户名，必填"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1)],1),a("Col",{attrs:{span:12}},[a("FormItem",{attrs:{label:"手机号"}},[a("Input",{attrs:{readonly:e.readOnly,placeholder:"请输入手机号，必填"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1),a("Col",{attrs:{span:12}},[a("FormItem",{attrs:{label:"邮箱"}},[a("Input",{attrs:{readonly:e.readOnly,placeholder:"请输入邮箱，必填"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),a("Col",{attrs:{span:12}},[a("FormItem",{attrs:{label:"性别",clearable:""}},[a("Select",{attrs:{readonly:e.readOnly,placeholder:"请选择性别，必填"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("Option",{attrs:{value:"1"}},[e._v("男")]),a("Option",{attrs:{value:"2"}},[e._v("女")])],1)],1)],1),a("Col",{attrs:{span:12}},[a("FormItem",{attrs:{label:"状态",clearable:""}},[a("Select",{attrs:{readonly:e.readOnly,placeholder:"请选择状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("Option",{attrs:{value:"1"}},[e._v("正常")]),a("Option",{attrs:{value:"2"}},[e._v("冻结")]),a("Option",{attrs:{value:"3"}},[e._v("关闭")])],1)],1)],1),a("Col",{attrs:{span:12}},[a("FormItem",{attrs:{label:"角色分配"}},[a("Select",{attrs:{readonly:e.readOnly,placeholder:"请选择角色",multiple:"","max-tag-count":1},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}},[a("Option",{attrs:{value:"1"}},[e._v(" ROLE_USER "),a("span",{staticStyle:{color:"#c5c8ce"}},[e._v("普通用户")])]),a("Option",{attrs:{value:"2"}},[e._v(" ROLE_ADMIN "),a("span",{staticStyle:{color:"#c5c8ce"}},[e._v("管理员")])]),a("Option",{attrs:{value:"3"}},[e._v(" ROLE_OP "),a("span",{staticStyle:{color:"#c5c8ce"}},[e._v("运营")])])],1)],1)],1),a("Col",{attrs:{span:12}},[a("FormItem",{attrs:{label:"登录账号"}},[a("Input",{attrs:{readonly:e.readOnly,placeholder:"请输入登录账号，必填"},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1)],1),a("Divider"),a("Col",{attrs:{span:12}},[a("FormItem",{attrs:{label:"地区"}},[a("Region",{attrs:{readonly:e.readOnly,placeholder:"请选择地区"},model:{value:e.form.area,callback:function(t){e.$set(e.form,"area",t)},expression:"form.area"}})],1)],1),a("Col",{attrs:{span:12}},[a("FormItem",{attrs:{label:"生日"}},[a("DatePicker",{attrs:{readonly:e.readOnly,placeholder:"请选择日期"},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}})],1)],1),a("Col",{attrs:{span:24}},[a("FormItem",{attrs:{label:"个人介绍"}},[a("Input",{attrs:{readonly:e.readOnly,type:"textarea",rows:3,placeholder:"请输入个人介绍"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1)],1)],2)],1)],1)],1)},s=[],o=a("5530"),l=(a("a15b"),a("d81d"),a("c24f")),n={name:"User",data:function(){return{query:{pageNo:1,pageSize:10},advanced:!1,loading:!1,columns:[{type:"selection",align:"center",width:60},{title:"用户名",key:"username",slot:"username",sortable:!0,minWidth:140},{title:"登录账号",key:"account",sortable:!0,minWidth:120},{title:"手机号",key:"phone",minWidth:140},{title:"邮箱",key:"email",minWidth:180},{title:"性别",key:"sex",slot:"sex",minWidth:100},{title:"状态",key:"status",slot:"status",minWidth:100},{title:"创建时间",key:"createTime",sortable:!0,minWidth:180},{title:"操作",slot:"action",align:"center",fixed:"right",minWidth:120}],data:[],total:0,visible:!1,selectedRows:[],form:{},rule:{},title:"",readOnly:!1}},created:function(){this.getUserList()},methods:{getUserList:function(){var t=this;this.loading=!0;var e=Object(o["a"])({},this.query);Object(l["e"])(e).then((function(e){t.data=e.data.data.data,t.total=e.data.data.totalCount,t.loading=!1}))},changePage:function(t){this.query.pageNo=t,this.getUserList()},changePageSize:function(t){this.query.pageSize=t,this.getUserList()},editUser:function(t){this.form=t,this.title="编辑用户",this.readOnly=!1,this.visible=!0},removeUser:function(t){var e=this;this.$Modal.confirm({title:"删除确认",content:"您确认要删除用户<strong>".concat(t.username,"</strong>？"),loading:!0,onOk:function(){setTimeout((function(){e.$Modal.remove(),e.$Message.error("抱歉，您没有该权限")}),800)},onCancel:function(){e.$Message.info("点击了取消")}})},toggleAdvanced:function(){this.advanced=!this.advanced},addUser:function(){this.form={},this.title="添加用户",this.readOnly=!1,this.visible=!0},delUsers:function(){var t=this;this.selectedRows.length?this.$Modal.confirm({title:"删除确认",content:"您确认要删除用户<strong>".concat(this.selectedRows.map((function(t){return t.username})).join(","),"</strong>？"),loading:!0,onOk:function(){setTimeout((function(){t.$Modal.remove(),t.$Message.error("抱歉，您没有该权限")}),800)},onCancel:function(){t.$Message.info("点击了取消")}}):this.$Message.error("您没有选择用户")},cellClick:function(t,e,a,r){a&&(this.form=t,this.title="用户信息",this.readOnly=!0,this.visible=!0)}}},i=n,c=a("2877"),d=Object(c["a"])(i,r,s,!1,null,null,null);e["default"]=d.exports}}]);